import{C as e,o as t}from"../../olMap-8ffb7ea3.js";import{p as s,s as a}from"../../popup-4e64157a.js";import{t as r,g as i}from"../../olUtils-31be321a.js";import"../../mapDef-32126832.js";import"../../size-aa14a1dc.js";import"../../vectors-2b27bbf4.js";import"../../Source-441004cf.js";import"../../string-4ef30a9f.js";import"../../rasters-f91a0263.js";import"./toolbar.js";import"../../Overlay-e6570afb.js";const o=new e('\n<template id="featuredisplaytemplate">\n  <div class="featureDisplay">\n    <div class="featureAtts"></div>\n    <div class="featureHav">calculated length: <span class="featureLenHav"></span> km</div>\n  </div>\n  <div class="featureAtt"></div>\n</template>\n',"featuredisplay").getTemplate("featuredisplay"),l=s.getOverlay(),n=t.get();a.displayOn((function(e){const t=l.get("element");if(e.selected.length>0){const s=e.selected[0],a=o.querySelector(".featureDisplay").cloneNode(!0);const d=s.getProperties();for(const e in d)if(d[e]&&!d[e].$oid&&"geometry"!=e){const t=d[e].$date?new Date(d[e].$date):d[e],s=o.querySelector(".featureAtt").cloneNode(!0);s.innerHTML=e+": "+t,a.querySelector(".featureAtts").appendChild(s)}const p=s.getGeometry();if(p.getType&&"LineString"===p.getType()){const e=r(p,n.get("view").getProjection()),t=i(e);a.querySelector(".featureLenHav").innerHTML=Math.round(.1*t)/100}else a.querySelector(".featureHav").style.display="none";for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(a),t.style.display="block",l.set("position",e.mapBrowserEvent.coordinate)}else{for(;t.firstChild;)t.removeChild(t.firstChild);t.style.display="none"}}));
